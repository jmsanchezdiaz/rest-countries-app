(this["webpackJsonprest-countries-app"]=this["webpackJsonprest-countries-app"]||[]).push([[0],{31:function(e,t,n){},37:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(22),o=n.n(a),s=n(8),i=n(0),l=Object(c.createContext)(),u=function(e){var t=e.children,n=Object(c.useState)(JSON.parse(window.localStorage.getItem("darkModeOn"))||!1),r=Object(s.a)(n,2),a=r[0],o=r[1];Object(c.useEffect)((function(){window.localStorage.setItem("darkModeOn",a.toString())}),[a]);return Object(i.jsx)(l.Provider,{value:{darkMode:a,toggleDarkMode:function(){return o((function(e){return!e}))}},children:t})},d=n(25),j=n(3),b=(n(31),n(10)),h=n(11),O={darkBlue:"hsl(209, 23%, 22%)",veryDarkBlue:"hsl(207, 26%, 17%)",veryDarkBlueLightModeText:"hsl(200, 15%, 8%)",darkGray:"hsl(0, 0%, 52%)",veryLightGray:"hsl(0, 0%, 98%)",white:"hsl(0, 0%, 100%)",black:"hsl(0, 0%, 0%)"},x=function(){var e=Object(c.useContext)(l);return{darkMode:e.darkMode,toggleDarkMode:e.toggleDarkMode}},g=function(){var e=x(),t=e.darkMode,n=e.toggleDarkMode;return Object(i.jsxs)("nav",{style:{backgroundColor:t?O.darkBlue:O.white},className:"navbar",children:[Object(i.jsxs)("h2",{style:{color:t?O.white:O.black},className:"navbar__title",children:["Where in the world?"," "]}),Object(i.jsx)("button",{style:{color:t?O.white:O.black},onClick:n,className:"navbar__mode",children:t?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b.a,{icon:h.d}),"Light Mode"]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(b.a,{icon:h.c}),"Dark Mode"]})})]})},p=n(9),f=(n(37),function(e){var t=e.name,n=e.region,c=e.subregion,r=e.nativeName,a=e.population,o=e.capital,s=e.topLevelDomain,l=e.currencies,u=e.languages,d=e.borders,b=e.darkMode,h=e.colors,O=Object(j.g)().push;return Object(i.jsxs)("div",{style:{color:b?h.white:h.black},className:"detailpage__text",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:t}),Object(i.jsxs)("div",{className:"detailpage__row",children:[Object(i.jsxs)("div",{className:"detailpage__first-column",children:[Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Native name:"})," ",r]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Population: "}),a]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Region: "}),n]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Subregion: "})," ",c]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Capital: "})," ",o]})]}),Object(i.jsxs)("div",{className:"detailpage__second-column",children:[Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Top Level Domain: "})," ",s]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Currencies: "}),null===l||void 0===l?void 0:l.map((function(e){return e.name}))]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Languages: "}),null===u||void 0===u?void 0:u.map((function(e){return e.name})).join(", ")]})]})]})]}),d&&Object(i.jsxs)("p",{className:"detailpage__borders",children:[Object(i.jsx)("b",{children:"Border Countries : "}),null===d||void 0===d?void 0:d.map((function(e){return Object(i.jsx)("button",{style:{color:b?h.white:h.black},onClick:function(){return O("/country/".concat(e))},children:e},e)}))]})]})}),m=(n(40),function(e){var t=e.darkMode,n=e.colors,c=Object(j.g)().push;return Object(i.jsx)("nav",{className:"country__navbar",children:Object(i.jsxs)("button",{style:{color:t?n.white:n.darkGray},onClick:function(){return c("/")},children:[Object(i.jsx)(b.a,{icon:h.a}),Object(i.jsx)("span",{children:"Back"})]})})}),v=(n(41),function(e){var t=e.size,n=void 0===t?"4px":t,c=e.speed,r=void 0===c?"1s":c,a=e.width,o=void 0===a?"36px":a,s=e.height,l=void 0===s?"36px":s,u=e.color;return Object(i.jsx)("div",{style:{borderWidth:n.toString(),width:o.toString(),height:l.toString(),borderLeftColor:u,animationDuration:r.toString()},className:"loader"})}),k=n(13),y=n.n(k),w=n(17),N=function(){var e=Object(w.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v2/alpha/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=(n(43),function(){var e,t=x().darkMode,n=Object(j.h)().countryCode,r=Object(c.useState)(),a=Object(s.a)(r,2),o=a[0],l=a[1],u=Object(c.useRef)(!1);return Object(c.useEffect)((function(){return u.current=!0,u.current&&N(n).then((function(e){l(e)})),function(){return u.current=!1}}),[n]),Object(i.jsxs)("section",{className:"detailpage",style:{backgroundColor:t?O.veryDarkBlue:O.veryLightGray},children:[Object(i.jsx)(m,{darkMode:t,colors:O}),Object(i.jsx)("div",{className:"detailpage__info-container",children:o?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("img",{className:"detailpage__flag",src:null===o||void 0===o||null===(e=o.flags)||void 0===e?void 0:e.svg,alt:"".concat(null===o||void 0===o?void 0:o.name,"-flag")}),Object(i.jsx)(f,Object(p.a)(Object(p.a)({},o),{},{darkMode:t,colors:O}))]}):Object(i.jsx)(v,{speed:"1s",color:t?O.white:O.black,width:"20rem",height:"20rem",size:"1rem"})})]})}),C=(n(44),n(16)),M=function(e){var t=Object(c.useState)(e),n=Object(s.a)(t,2),r=n[0],a=n[1];return Object(p.a)(Object(p.a)({formValues:r},r),{},{handleChange:function(e){var t=e.target;a(Object(p.a)(Object(p.a)({},r),{},Object(C.a)({},t.name,t.value)))},resetForm:function(){return a(e)}})},P=function(){var e=Object(w.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://restcountries.com/v2/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=(n(45),function(e){var t,n=e.darkMode,c=e.country,r=e.colors,a=Object(j.g)();return Object(i.jsxs)("div",{style:{color:n?r.white:r.black,backgroundColor:n?r.darkBlue:r.white},onClick:function(){a.push({pathname:"/country/".concat(c.alpha3Code)})},className:"card",children:[Object(i.jsx)("img",{className:"card__image",src:null===(t=c.flags)||void 0===t?void 0:t.png,alt:"flag"}),Object(i.jsxs)("div",{className:"card__text",children:[Object(i.jsx)("h3",{children:c.name}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:"Population : "}),c.population]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:"Region :"})," ",c.region]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("span",{children:"Capital :"})," ",c.capital]})]})]},c.name)}),D=(n(46),function(e){var t=e.darkMode,n=e.colors,c=e.goPrevPage,r=e.amountOfPages,a=e.goNextPage,o=e.pageNumber;return Object(i.jsxs)("div",{className:"pagination",children:[Object(i.jsx)("button",{style:{color:t?n.white:n.black},onClick:c,children:"Previous"}),Object(i.jsxs)("h3",{style:{color:t?n.white:n.black},children:[o," of ",r]}),Object(i.jsx)("button",{style:{color:t?n.white:n.black},onClick:a,children:"Next"})]})}),I=(n(47),function(e){var t=e.countries,n=e.darkMode,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=Object(c.useState)({curIndex:0,nxtIndex:t,pageNumber:1}),r=Object(s.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(e),l=Object(s.a)(i,2),u=l[0],d=l[1],j=a.curIndex,b=a.nxtIndex,h=a.pageNumber,O=Math.ceil(e.length/t),x=h*t>e.length?e.length:h*t,g=function(){o({curIndex:0,nxtIndex:t,pageNumber:1})},p=function(){j+t<e.length&&(o({curIndex:j+t,nxtIndex:b+t,pageNumber:h+1}),window.scroll(0,0))},f=function(){j>0&&(o({curIndex:j-t,nxtIndex:b-t,pageNumber:h-1}),window.scroll(0,0))};return Object(c.useEffect)((function(){var t=e.slice(j,b);d(t)}),[e,h,j,b,t]),{filtered:u,amountOfElements:x,pageNumber:h,goNextPage:p,goPrevPage:f,amountOfPages:O,resetPagination:g}}(t,12),a=r.filtered,o=r.pageNumber,l=r.goNextPage,u=r.goPrevPage,d=r.amountOfPages;return Object(i.jsxs)("div",{className:"countries",children:[t?Object(i.jsx)("div",{className:"countries__list",children:null===a||void 0===a?void 0:a.map((function(e){return Object(i.jsx)(S,{colors:O,country:e,darkMode:n},e.name)}))}):Object(i.jsx)(v,{speed:"1s",color:n?O.white:O.black,width:"20rem",height:"20rem",size:"1rem"}),t&&Object(i.jsx)(D,{darkMode:n,colors:O,pageNumber:o,amountOfPages:d,goPrevPage:u,goNextPage:l})]})}),L=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},B=function(e,t){return e.filter((function(e){return e.region.toLowerCase()===t.toLowerCase()}))},E=function(){var e=Object(c.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(n),o=Object(s.a)(a,2),l=o[0],u=o[1],d=Object(j.g)(),g=Object(c.useRef)(!1),p=M({country:"",continents:""}),f=p.country,m=p.continents,v=p.handleChange,k=x().darkMode,y=function(){var e=[];return m&&f?e=function(e,t,n){var c=B(e,t);return L(c,n)}(n,m,f):m?e=B(n,m):f&&(e=L(n,f)),e};return Object(c.useEffect)((function(){return g.current=!0,g.current&&P().then((function(e){e&&(r(e),u(e))})),function(){return g.current=!1}}),[]),Object(i.jsx)("section",{style:{backgroundColor:k?O.veryDarkBlue:O.veryLightGray},className:"homepage",children:Object(i.jsxs)("div",{className:"homepage__container",children:[Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=y();u(t.length>0?t:n),d.push("?country=".concat(f,"&continents=").concat(m))},action:"",className:"homepage__form",children:[Object(i.jsxs)("div",{style:{backgroundColor:k?O.darkBlue:O.white},className:"homepage__input-container",children:[Object(i.jsx)("button",{style:{color:k?O.white:O.darkGray},type:"submit",children:Object(i.jsx)(b.a,{icon:h.b})}),Object(i.jsx)("input",{style:{color:k?O.white:O.darkGray},value:f,onChange:v,className:"homepage__input",type:"text",name:"country",placeholder:"Search for a country"})]}),Object(i.jsxs)("select",{style:{color:k?O.white:O.darkGray,backgroundColor:k?O.darkBlue:O.white},value:m,onChange:v,className:"homepage__select",name:"continents",id:"continents",children:[Object(i.jsx)("option",{value:"Americas",children:"Americas"}),Object(i.jsx)("option",{value:"Europe",children:"Europe"}),Object(i.jsx)("option",{value:"Oceania",children:"Oceania"}),Object(i.jsx)("option",{value:"Asia",children:"Asia"}),Object(i.jsx)("option",{value:"Africa",children:"Africa"}),Object(i.jsx)("option",{value:"",children:"Filter by Region"})]})]}),Object(i.jsx)(I,{countries:l,darkMode:k})]})})},G=function(){return Object(i.jsxs)(d.a,{children:[Object(i.jsx)(g,{}),Object(i.jsxs)(j.d,{children:[Object(i.jsx)(j.b,{exact:!0,path:"/country/:countryCode",component:_}),Object(i.jsx)(j.b,{exact:!0,path:"/",component:E}),Object(i.jsx)(j.b,{path:"*",children:Object(i.jsx)(j.a,{to:"/"})})]})]})};var A=function(){return Object(i.jsx)(u,{children:Object(i.jsx)(G,{})})};n(48);o.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(A,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.2a9bb578.chunk.js.map